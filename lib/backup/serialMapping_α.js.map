{"version":3,"file":"serialMapping_α.js","sourceRoot":"","sources":["../../src/backup/serialMapping_α.ts"],"names":[],"mappings":";;;AAAA,4CAAmD;AAGnD,kBAAkB;AACX,KAAK,UAAU,eAAe,CACnC,UAAuB,EACvB,SAAgC,EAAE,0BAA0B;AAC5D,sCAAsC;AACtC,SAAsD,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,EACjE,WAAiE,KAAK,EAAC,CAAC,EAAC,EAAE,CACzE,KAAK,CAAC,EACR,YAA+D,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC;IAE1E,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,MAAM,OAAO,GAA8B,EAAE,CAAC;IAC9C,KAAK,MAAM,IAAI,IAAI,UAAU,EAAE;QAC7B,IAAI;YACF,MAAM,KAAK,GAAG,MAAM,SAAS,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC;YAC1D,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACjB,MAAM,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACzB,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,qBAAS,EAAE,KAAK,EAAE,CAAC,CAAC;SAC5C;QAAC,OAAO,KAAK,EAAE;YACd,SAAS,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACpB,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,oBAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;SACnD;KACF;IACD,OAAO,OAAO,CAAC;AACjB,CAAC;AAvBD,0CAuBC","sourcesContent":["import { FULFILLED, REJECTED } from '../constants';\nimport { Mapper, OnlySideEffect } from '../types';\n\n/** @deprecated */\nexport async function serialMapping_α<R, T>(\n  collection: Iterable<T>,\n  transform: Mapper<T, Promise<R>>, // (item: T) => Promise<R>\n  // transform: (item: T) => Promise<R>,\n  lookup: (value: R, index: number) => OnlySideEffect = v => void v,\n  validate: (value: R, index: number) => Promise<OnlySideEffect> = async v =>\n    void v,\n  errLookup: (error: unknown, index: number) => OnlySideEffect = v => void v\n): Promise<PromiseSettledResult<R>[]> {\n  let i = 0;\n  const results: PromiseSettledResult<R>[] = [];\n  for (const item of collection) {\n    try {\n      const value = await transform(item, i++, [...collection]);\n      lookup(value, i);\n      await validate(value, i);\n      results.push({ status: FULFILLED, value });\n    } catch (error) {\n      errLookup(error, i);\n      results.push({ status: REJECTED, reason: error });\n    }\n  }\n  return results;\n}\n"]}